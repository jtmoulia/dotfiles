---
- name: install/update core libraries
  become: true
  package:
    name: "{{ item }}"
    state: latest
  with_items:
    - neovim
    - ansible
    - fish
    - sudo
    - openssh
    - fzf
    - fd
    - ripgrep
    - tldr

- name: add jtmoulia
  become: true
  user:
    name: jtmoulia
    shell: /usr/bin/fish
    groups: wheel
    generate_ssh_key: yes
    ssh_key_bits: 4096

- name: create fish config dir
  file:
    name: "~/.config/fish/functions"
    state: directory

- name: copy in fish fzf config
  copy:
    src: "files/fish_user_key_bindings.fish"
    dest: "~/.config/fish/functions/fish_user_key_bindings.fish"
